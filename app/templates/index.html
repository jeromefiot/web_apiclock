{% extends "base.html" %}
{% block title %}Apiclock{% endblock %}

{% block page_content %}
<div class="page-header">
    {% if current_user.is_authenticated() %}

    <h2>How to set up your APICLOCK</h2>
    <br/>
    Content table<br/>
    <ol>
        <li><a href="#requirements">Requirements</a></li>
        <li><a href="#environement">Environement</a></li>
        <li><a href="#installation">Installation</a></li>
    </ol>
    
    <hr>
    <div id="requirements"></div>
    <h3>1. REQUIREMENTS</h3>
    <br/>
    <h4>Hardware</h4>
    This project aims to set up an alarm clock over rapsberry pi.<br/>
    I test this on a raspberry pi B+ but it should work on others version
    SO here is the list of hardware you need : <br/>
    <ul>
        <li>1 Raspberry pi</li>
        <li>1 Power supply (5v / 1A)</li>
        <li>Speakers USB powered (<a href="https://www.google.fr/search?q=usb+powered+speaker&es_sm=91&biw=1440&bih=779&tbm=shop&source=lnms&sa=X&ved=0CAcQ_AUoAWoVChMI7ZDPgrzJyAIVQskaCh3g4gSX&dpr=1#spd=15864847755340973458" target="_blank">exemple</a>) </li>
        <li>USB Wifi adapter OR LAN connection (RJ45)</li>
    </ul>
    
    <br/>
    <h4>Update & upgrade your Pi</h4>
    <br/>
    
    First, update your system's package list by entering the following command in LXTerminal or from the command line:<br/>
    <code>
    $ sudo apt-get update
    </code><br/><br/>
    Next, upgrade all your installed packages to their latest versions with the command:<br/>
    <code>
    $ sudo apt-get upgrade
    </code>
    <br/>
    
    <hr>
    <div id="environement"></div>
    <h3>2. ENVIRONEMENT</h3>
    <br/>
    <h4>Install Git, Virutualenv & VirtualenvWrapper</h4>
    <br/>
    Because it's a good thing to :
    <ul>
        <li>Get the code from Github and have it up to date, Git is needed</li>
        <li>Isolate package, virtualenv allow you to create separate space for testing specific pakages without installing them on your main environment.
        <br/>
        (VirtualenvWrapper gives you an easier way to manipulate virtualenv.)
        </li>
     </ul>
    <br/>
    <code>
    # install Git<br/>
    $ sudo apt-get install git-core<br/>
    <br/>
    # install virtualenv and virtualenvwrapper<br/>
    $ sudo pip install virtualenv virtualenvwrapper<br/>
    <br/>
    # edit the .bashrc file<br/>
    $ vim .bashrc<br/>
    <br/>
    # to enable virtualenvwrapper add this line to the end of the file<br/>
    source /usr/local/bin/virtualenvwrapper.sh<br/>
    #save and quit your editor<br/>
    <br/>
    # exit and log back in to restart your shell<br/>
    $ exit<br/>
    </code>
    
    <br/>
    <h4>Create a vitualenv</h4>
    <br/>
    You now can create virtualenv (name it 'apiclock') with the VirtualenvWrapper syntax (find here <a href="https://virtualenvwrapper.readthedocs.org/en/latest/command_ref.html" target="_blank">the main commands of virtualenvWrapper</a>) <br/>
    <br/>
    <code>
    # create a virtualenv, you can give the name you want and for the exemple we'll name it <b>'apiclock'</b><br/>
    $ mkvirtualenv apiclock<br/>
    <br/>
    # The virtualenv will be activated automatically.<br/>
    # to list all virtualenvs you have created<br/>
    $ workon<br/>
    <br/>
    # to activate the virtualenv you want (for this exemple we want activate the 'betterworld' virtualenv)<br/>
    $ workon betterworld<br/>
    <br/>
    # To deactivate a virtualenv and get back to main environment<br/>
    $ deactivate<br/>
    </code>
    
    <hr>
    <div id="installation"></div>
    <h3>3. INSTALLATION</h3>
    <br/>
    <h4>Get the code from Github</h4>
    <br/>
    Simply go where you want to save the directory on your computer (for me : /home/pi) and type<br/>
    <br/>
    <code>
    $ git clone https://github.com/jeromefiot/Apiclock.git
    </code>
    <br/>
    <br/>
    <h4>Install needed modules / packages</h4>
    <br/>
    By default Python is installed on Raspberry pi but you need more packages. all these packages are available in the directory 'apiclock' you just cloned in the <b>'requirements.txt'</b>.<br/>
    Some packages (like 'Flask-Migrate' for example) are only useful on a developmenent context and if you don't want to dive in the code you could delete it.<br/>
    <br/>
    To install all these modules,
    <ol>
        <li>If not, activate the virtualenv : <code>$ workon apiclock</code></li>
        <li>Move to the apiclock directory (where stand the <b>'requirements.txt'</b></li>
        <li>Type <code>$ pip install -r requirements.txt</code> which will install all the requirements !</li>
    </ol>
    <br/>
    <h4>Modify config file</h4>
    <br/>
    In the root <b>'apiclock'</b> directory:
    <br/>
    <ul>
        <li>Edit the file <b>'EDIT-config.py'</b> and type your information everywhere you see a sentence begining by "PUT HERE..."</li>
        <li>Rename this file <b>'config.py'</b></li>
        <li>Create a file called : <b>'data-dev.sqlite'</b></li>
    </ul>
    
    {% else %}
    <h2>Hello stranger</h2>
    
        
    
    {% endif %}</h5>
     
</div>
{% endblock %}
